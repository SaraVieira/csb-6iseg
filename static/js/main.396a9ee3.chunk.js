(this["webpackJsonpperpetual-pencil"]=this["webpackJsonpperpetual-pencil"]||[]).push([[0],{38:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(29),c=n.n(o),a=(n(38),n(6)),u=n(12),i=n(10),s=n(46),l=n(47),j=n(48),b=n(45),d=n(34),v=n(2),p=n(5),O=n(0),f=function(){function e(){Object(v.a)(this,e)}return Object(p.a)(e,null,[{key:"calculatePositionOnCurve",value:function(e,t,n,r,o){var c=Math.cos(e),a=Math.sin(e),u=n/t*e,i=Math.cos(u);o.x=r*(2+i)*.5*c,o.y=r*(2+i)*a*.5,o.z=r*Math.sin(u)*.5}},{key:"generatePoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,c=new O.Vector3,a=[],u=0;u<n;++u){var i=u/n*r*Math.PI*2;e.calculatePositionOnCurve(i,r,o,t,c),a.push(c.clone())}return a}},{key:"generateCurve",value:function(){return new O.CatmullRomCurve3(e.generatePoints.apply(e,arguments),!0)}}]),e}(),g=n(8);function h(){return Object(g.jsx)(i.a,{concurrent:!0,style:{background:"radial-gradient(gold, orange)"},camera:{position:[10,0,0],fov:30},resize:{polyfill:d.a},children:Object(g.jsx)(x,{})})}function x(){return Object(g.jsxs)(r.Suspense,{fallback:null,children:[Object(g.jsx)(s.a,{autoRotate:!0,autoRotateSpeed:-4.5}),Object(g.jsx)(l.a,{preset:"warehouse"}),Object(g.jsx)(m,{p:3,q:4,speed:.15})]})}function m(e){var t=e.radius,n=void 0===t?1:t,o=e.tubularSegments,c=void 0===o?64:o,s=e.p,l=void 0===s?2:s,b=e.q,d=void 0===b?3:b,v=e.debug,p=void 0!==v&&v,O=e.speed,h=void 0===O?.2:O,x=Object(u.a)(e,["radius","tubularSegments","p","q","debug","speed"]),m=Object(r.useMemo)((function(){var e=f.generateCurve(n,c,l,d),t=e.getPoints(300);return{curve:e,points:t}}),[n,c,l,d]),w=m.curve,C=m.points,M=Object(r.useRef)();return Object(i.b)((function(e,t){M.current&&M.current.moveAlongCurve(t*h)})),Object(g.jsxs)("group",Object(a.a)(Object(a.a)({},x),{},{children:[Object(g.jsx)(j.a,{ref:M,curve:w,children:Object(g.jsx)(y,{})}),p&&Object(g.jsx)(k,{points:C,color:"red"})]}))}var y=Object(r.forwardRef)((function(e,t){var n=Object(b.a)("pencil.glb").nodes.mesh,o=n.material,c=n.geometry;return Object(r.useLayoutEffect)((function(){c.scale(7,7,7)}),[c]),Object(g.jsx)("mesh",Object(a.a)({ref:t,args:[c,o]},e))}));function k(e){var t=e.color,n=void 0===t?"white":t,r=e.points,o=void 0===r?[]:r,c=Object(u.a)(e,["color","points"]),s=Object(i.e)((function(e){return e.setFromPoints(o)}),[o]);return Object(g.jsxs)("lineLoop",Object(a.a)(Object(a.a)({},c),{},{children:[Object(g.jsx)("bufferGeometry",{ref:s}),Object(g.jsx)("lineBasicMaterial",{color:n})]}))}c.a.render(Object(g.jsx)(h,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.396a9ee3.chunk.js.map